<!DOCTYPE html>
<html lang="zh-cn">
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="Codewars' Kata">




  <meta name="keywords" content="Python,Ruby,">




  <link rel="alternate" href="/atom.xml" title="0u0' lab | Hexo">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.4.x">



<link rel="canonical" href="https://blog.wo-class.cn/Codewars-Kata/">


<meta name="description" content="看到 Codewars oj类似物，不过可以看到详细的报错，并在AC一次后看到别人的答案 开坑记录一下有趣的题, 顺便采用新结构 [堆栈类似物]">
<meta name="keywords" content="Python,Ruby">
<meta property="og:type" content="article">
<meta property="og:title" content="Codewars&#39; Kata">
<meta property="og:url" content="https://blog.wo-class.cn/Codewars-Kata/index.html">
<meta property="og:site_name" content="0u0&#39; lab | Hexo">
<meta property="og:description" content="看到 Codewars oj类似物，不过可以看到详细的报错，并在AC一次后看到别人的答案 开坑记录一下有趣的题, 顺便采用新结构 [堆栈类似物]">
<meta property="og:locale" content="zh-cn">
<meta property="og:updated_time" content="2018-12-21T11:52:17.457Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Codewars&#39; Kata">
<meta name="twitter:description" content="看到 Codewars oj类似物，不过可以看到详细的报错，并在AC一次后看到别人的答案 开坑记录一下有趣的题, 顺便采用新结构 [堆栈类似物]">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.4.x">



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css">





<script>
  var CONFIG = {
    search: true,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>





    <title> Codewars' Kata · 0u0' lab | Hexo </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">0u0' lab | Hexo</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">0u0' lab | Hexo</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              标签
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              分类
            
          </a>
        </li>
      
      
        <li class="menu-search">
          <form>
            <i class="iconfont icon-search" id="open-search"></i>
            <input type="text" class="search-input" id="search-input">
            <i class="iconfont icon-close" id="close-search"></i>
          </form>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Codewars' Kata
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2017年3月25日
        </span>
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1ku"><span class="toc-text">1ku</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ku"><span class="toc-text">2ku</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3ku"><span class="toc-text">3ku</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4ku"><span class="toc-text">4ku</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5ku"><span class="toc-text">5ku</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6ku"><span class="toc-text">6ku</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7ku"><span class="toc-text">7ku</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8ku"><span class="toc-text">8ku</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <p>看到 <a href="www.codewars.com/r/S2zJGQ">Codewars</a> oj类似物，不过可以看到详细的报错，并在AC一次后看到别人的答案</p>
<p>开坑记录一下有趣的题, 顺便采用新结构 [堆栈类似物]</p>
<a id="more"></a>
<p><a href="https://www.codewars.com/users/0u0/completed_solutions" target="_blank" rel="noopener">我的解题集</a></p>
<h3 id="1ku"><a href="#1ku" class="headerlink" title="1ku"></a>1ku</h3><h3 id="2ku"><a href="#2ku" class="headerlink" title="2ku"></a>2ku</h3><h3 id="3ku"><a href="#3ku" class="headerlink" title="3ku"></a>3ku</h3><h3 id="4ku"><a href="#4ku" class="headerlink" title="4ku"></a>4ku</h3><p><a href="https://www.codewars.com/kata/roman-numerals-decoder" target="_blank" rel="noopener">Roman Numerals Decoder</a></p>
<p>根据以前找的js，改写一下带验证的函数<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Roman_Num_Decoder</span><span class="params">(s)</span></span></span><br><span class="line">  validator = <span class="regexp">/^M*(?:D?C&#123;0,3&#125;|C[MD])(?:L?X&#123;0,3&#125;|X[CL])(?:V?I&#123;0,3&#125;|I[XV])$/</span></span><br><span class="line">  token = <span class="regexp">/[MDLV]|C[MD]?|X[CL]?|I[XV]?/</span></span><br><span class="line">	key = &#123; <span class="symbol">M:</span><span class="number">1000</span>,</span><br><span class="line">          <span class="symbol">CM:</span><span class="number">900</span>, <span class="symbol">D:</span><span class="number">500</span>, <span class="symbol">CD:</span><span class="number">400</span>, <span class="symbol">C:</span><span class="number">100</span>,</span><br><span class="line">          <span class="symbol">XC:</span><span class="number">90</span>,  <span class="symbol">L:</span><span class="number">50</span>,  <span class="symbol">XL:</span><span class="number">40</span>,  <span class="symbol">X:</span><span class="number">10</span>,</span><br><span class="line">          <span class="symbol">IX:</span><span class="number">9</span>,   <span class="symbol">V:</span><span class="number">5</span>,   <span class="symbol">IV:</span><span class="number">4</span>,   <span class="symbol">I:</span><span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  s.upcase.split(<span class="string">' '</span>).map <span class="keyword">do</span> <span class="params">|rnum|</span></span><br><span class="line">    <span class="keyword">if</span> validator.match(rnum)</span><br><span class="line">      rnum.scan(token).</span><br><span class="line">      reduce(<span class="number">0</span>) &#123;<span class="params">|sum, rn|</span> sum+=key[rn.to_sym]&#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      puts <span class="string">"Not valid Roman Numbers!\n"</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">'CI XCVII CXV CXXI XCIX CXVI CII CXXIII CXVI CIV CV CXV XCV CV CXV XCV CX CXI CXVI XCV CXVI CIV CI XCV CII CVIII XCVII CIII CXXV XXXII CV XXXII CVII CX CXI CXIX XXXII CXVI CIV CV CXV XXXII CII CVIII XCVII CIII XXXII CV CXV XXXII CXIX CI CV CXIV C XXXII CV XXXII CVI CXVII CXV CXVI XXXII XCIX XCVII CX XXXIX CXVI XXXII CXII CXVII CXVI XXXII CIX CXXI XXXII CII CV CX CIII CI CXIV XXXII CXI CX XXXII CXIX CIV CXXI'</span></span><br><span class="line">p Roman_Num_Decoder(s)</span><br></pre></td></tr></table></figure></p>
<p>题目要求的无检验<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Roman_Num_Decoder</span><span class="params">(s)</span></span></span><br><span class="line">  token = <span class="regexp">/[MDLV]|C[MD]?|X[CL]?|I[XV]?/</span></span><br><span class="line">	key = &#123; <span class="symbol">M:</span><span class="number">1000</span>,</span><br><span class="line">          <span class="symbol">CM:</span><span class="number">900</span>, <span class="symbol">D:</span><span class="number">500</span>, <span class="symbol">CD:</span><span class="number">400</span>, <span class="symbol">C:</span><span class="number">100</span>,</span><br><span class="line">          <span class="symbol">XC:</span><span class="number">90</span>,  <span class="symbol">L:</span><span class="number">50</span>,  <span class="symbol">XL:</span><span class="number">40</span>,  <span class="symbol">X:</span><span class="number">10</span>,</span><br><span class="line">          <span class="symbol">IX:</span><span class="number">9</span>,   <span class="symbol">V:</span><span class="number">5</span>,   <span class="symbol">IV:</span><span class="number">4</span>,   <span class="symbol">I:</span><span class="number">1</span>&#125;</span><br><span class="line">  </span><br><span class="line">  s.</span><br><span class="line">    upcase.</span><br><span class="line">    scan(token).</span><br><span class="line">    reduce(<span class="number">0</span>) &#123;<span class="params">|sum, rn|</span> sum+=key[rn.to_sym]&#125;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">'CI XCVII CXV CXXI XCIX CXVI CII CXXIII CXVI CIV CV CXV XCV CV CXV XCV CX CXI CXVI XCV CXVI CIV CI XCV CII CVIII XCVII CIII CXXV XXXII CV XXXII CVII CX CXI CXIX XXXII CXVI CIV CV CXV XXXII CII CVIII XCVII CIII XXXII CV CXV XXXII CXIX CI CV CXIV C XXXII CV XXXII CVI CXVII CXV CXVI XXXII XCIX XCVII CX XXXIX CXVI XXXII CXII CXVII CXVI XXXII CIX CXXI XXXII CII CV CX CIII CI CXIV XXXII CXI CX XXXII CXIX CIV CXXI'</span></span><br><span class="line"></span><br><span class="line">s.split(<span class="string">' '</span>).each <span class="keyword">do</span> <span class="params">|rn|</span></span><br><span class="line">  print Roman_Num_Decoder(rn), <span class="string">', '</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">print <span class="string">"\n"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="5ku"><a href="#5ku" class="headerlink" title="5ku"></a>5ku</h3><p><a href="https://www.codewars.com/kata/simple-fun-number-299-look-and-say-and-sum" target="_blank" rel="noopener">“Simple Fun #299: Look And Say And Sum” Translation</a></p>
<p><strong>Solution</strong></p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> Haskell.Codewars.LookAndSayAndSum <span class="keyword">where</span></span><br><span class="line"><span class="keyword">import</span> Data.List (<span class="title">group</span>)</span><br><span class="line"><span class="keyword">import</span> Data.Char (<span class="title">digitToInt</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">lookAndSay'</span> :: <span class="type">Integer</span> -&gt; <span class="type">Integer</span></span><br><span class="line"><span class="title">lookAndSay'</span> n = read (concatMap count (group (show n)))</span><br><span class="line">  <span class="keyword">where</span> </span><br><span class="line">    count run = show (length run) ++ take <span class="number">1</span> run</span><br><span class="line"></span><br><span class="line"><span class="title">toDigits</span> = map (fromIntegral . digitToInt) . show</span><br><span class="line"></span><br><span class="line"><span class="title">lookAndSaySum</span> :: <span class="type">Int</span> -&gt; <span class="type">Int</span></span><br><span class="line"><span class="title">lookAndSaySum</span> n = foldr (+) <span class="number">0</span> (toDigits (iterate lookAndSay' <span class="number">1</span> !! (n - <span class="number">1</span>)) )</span><br></pre></td></tr></table></figure>
<p><strong>Test Case</strong></p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Test.Hspec</span><br><span class="line"><span class="keyword">import</span> Haskell.Codewars.LookAndSayAndSum (<span class="title">lookAndSaySum</span>)</span><br><span class="line"><span class="keyword">import</span> System.Random</span><br><span class="line"></span><br><span class="line"><span class="title">sol</span> :: <span class="type">Int</span> -&gt; <span class="type">Int</span></span><br><span class="line"><span class="title">sol</span> n = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">13</span>,<span class="number">16</span>,<span class="number">23</span>,<span class="number">32</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">76</span>,<span class="number">102</span>,<span class="number">132</span>,<span class="number">174</span>,<span class="number">227</span>,<span class="number">296</span>,<span class="number">383</span>,<span class="number">505</span>,<span class="number">679</span>,<span class="number">892</span>,<span class="number">1151</span>,<span class="number">1516</span>,<span class="number">1988</span>,<span class="number">2602</span>,<span class="number">3400</span>,<span class="number">4410</span>,<span class="number">5759</span>,<span class="number">7519</span>,<span class="number">9809</span>,<span class="number">12810</span>,<span class="number">16710</span>,<span class="number">21758</span>,<span class="number">28356</span>,<span class="number">36955</span>,<span class="number">48189</span>,<span class="number">62805</span>,<span class="number">81803</span>,<span class="number">106647</span>,<span class="number">139088</span>,<span class="number">181301</span>,<span class="number">236453</span>,<span class="number">308150</span>,<span class="number">401689</span>,<span class="number">523719</span>,<span class="number">682571</span>,<span class="number">889807</span>,<span class="number">1159977</span>,<span class="number">1511915</span>,<span class="number">1970964</span>,<span class="number">2569494</span>,<span class="number">3349648</span>,<span class="number">4366359</span>,<span class="number">5691884</span>] !! n</span><br><span class="line"></span><br><span class="line"><span class="title">randint</span> :: <span class="type">IO</span> <span class="type">Int</span></span><br><span class="line"><span class="title">randint</span> = randomRIO (<span class="number">1</span>,<span class="number">55</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = hspec $ <span class="keyword">do</span></span><br><span class="line">  describe <span class="string">"Unit tests"</span> $ <span class="keyword">do</span></span><br><span class="line">    it <span class="string">"Basic tests"</span> $ <span class="keyword">do</span></span><br><span class="line">      lookAndSaySum <span class="number">1</span> `shouldBe` <span class="number">1</span></span><br><span class="line">      lookAndSaySum <span class="number">2</span> `shouldBe` <span class="number">2</span></span><br><span class="line">      lookAndSaySum <span class="number">3</span> `shouldBe` <span class="number">3</span></span><br><span class="line">      lookAndSaySum <span class="number">4</span> `shouldBe` <span class="number">5</span></span><br><span class="line">      lookAndSaySum <span class="number">5</span> `shouldBe` <span class="number">8</span></span><br><span class="line">    it <span class="string">"Radnom tests"</span> $ <span class="keyword">do</span></span><br><span class="line">      rint &lt;- sequence (replicate <span class="number">5</span> randint) </span><br><span class="line">      map lookAndSaySum rint `shouldBe` map sol rint</span><br></pre></td></tr></table></figure>
<p><a href="https://www.codewars.com/kata/first-variation-on-caesar-cipher" target="_blank" rel="noopener">First Variation on Caesar Cipher</a></p>
<p>5ku的题果然不是那么简单的<br>先写一个凯撒函数<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movingShift</span><span class="params">(s, shift)</span></span></span><br><span class="line">  s.gsub!(<span class="regexp">/[A-Z]/</span>) <span class="keyword">do</span> <span class="params">|c|</span> </span><br><span class="line">    tmp = c.ord.+(shift%<span class="number">27</span>).<span class="string">%('Z'.ord+1)</span></span><br><span class="line">    tmp += <span class="string">'A'</span>.ord <span class="keyword">unless</span> tmp &gt;= c.ord</span><br><span class="line">    tmp.chr</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  s.gsub!(<span class="regexp">/[a-z]/</span>) <span class="keyword">do</span> <span class="params">|c|</span> </span><br><span class="line">    tmp = c.ord.+(shift%<span class="number">27</span>).<span class="string">%('z'.ord+1)</span></span><br><span class="line">    tmp += <span class="string">'a'</span>.ord <span class="keyword">unless</span> tmp &gt;= c.ord</span><br><span class="line">    tmp.chr</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demovingShift</span><span class="params">(arr, shift)</span></span></span><br><span class="line">  movingShift(arr.join, <span class="number">26</span>-shift)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p u = <span class="string">"I should have known that you would have a perfect answer for me!!!"</span></span><br><span class="line">p v = movingShift(u, <span class="number">1</span>)</span><br><span class="line">p demovingShift(v, <span class="number">1</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>Simplify</strong><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movingShift</span><span class="params">(s, shift)</span></span></span><br><span class="line">  t = s.chars.join    <span class="comment"># deep clone 保证输入字符串s不变</span></span><br><span class="line">  t.gsub!(<span class="regexp">/\w/</span>) <span class="keyword">do</span> <span class="params">|c|</span> </span><br><span class="line">    isUC = c.ord &lt; <span class="number">91</span></span><br><span class="line">    tmp = c.ord.+(shift%<span class="number">26</span>).<span class="string">%((isUC ? 'Z' : 'z')</span>.ord+<span class="number">1</span>)</span><br><span class="line">    tmp += (isUC ? <span class="string">'A'</span> : <span class="string">'a'</span>).ord <span class="keyword">unless</span> tmp &gt;= c.ord</span><br><span class="line">    tmp.chr</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></p>
<p>按题意修改程序，并格式化输出<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movingShift</span><span class="params">(s, shift)</span></span></span><br><span class="line">  s.chars.map.with_index <span class="keyword">do</span> <span class="params">|c, i|</span></span><br><span class="line">    <span class="keyword">if</span> c =~ <span class="regexp">/\w/</span></span><br><span class="line">      isUC = c.ord &lt; <span class="number">91</span></span><br><span class="line">      tmp = c.ord.+((i+shift)%<span class="number">26</span>).<span class="string">%((isUC ? 'Z' : 'z')</span>.ord+<span class="number">1</span>)</span><br><span class="line">      tmp += (isUC ? <span class="string">'A'</span> : <span class="string">'a'</span>).ord <span class="keyword">unless</span> tmp &gt;= c.ord</span><br><span class="line">      tmp.chr</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      c</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>.each_slice(s.length/<span class="number">5</span>+<span class="number">1</span>).to_a.map&#123;<span class="params">|a|</span> a.join&#125;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demovingShift</span><span class="params">(arr, shift)</span></span></span><br><span class="line">  arr.join.chars.map.with_index <span class="keyword">do</span> <span class="params">|c, i|</span></span><br><span class="line">    <span class="keyword">if</span> c =~ <span class="regexp">/\w/</span></span><br><span class="line">      movingShift(c, <span class="number">26</span>-shift-i)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      c</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>.join</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></p>
<p>解决数字干扰问题，并添加奇怪的输出格式支持<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movingShift</span><span class="params">(s, shift)</span></span></span><br><span class="line">  len = s.length</span><br><span class="line">  @obj = <span class="literal">nil</span></span><br><span class="line">  s.chars.map.with_index <span class="keyword">do</span> <span class="params">|c, i|</span></span><br><span class="line">    <span class="keyword">if</span> c =~ <span class="regexp">/[a-z]/i</span></span><br><span class="line">      isUC = c.ord &lt; <span class="number">91</span></span><br><span class="line">      tmp = c.ord.+((i+shift)%<span class="number">26</span>).<span class="string">%((isUC ? 'Z' : 'z')</span>.ord+<span class="number">1</span>)</span><br><span class="line">      tmp += (isUC ? <span class="string">'A'</span> : <span class="string">'a'</span>).ord <span class="keyword">unless</span> tmp &gt;= c.ord</span><br><span class="line">      tmp.chr</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      c</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>.</span><br><span class="line">  each_slice(len%<span class="number">5</span> == <span class="number">0</span> ? len/<span class="number">5</span>: len/<span class="number">5</span>+<span class="number">1</span>).</span><br><span class="line">  to_a.map&#123;<span class="params">|a|</span> a.join&#125;.</span><br><span class="line">  tap&#123;<span class="params">|obj|</span> @obj = obj&#125;.            <span class="comment"># 从链式调用中 ‘抽样’</span></span><br><span class="line">  +(@obj.length == <span class="number">5</span> ? [] : [<span class="string">''</span>])   <span class="comment"># 保证返回的数组有5个元素</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demovingShift</span><span class="params">(arr, shift)</span></span></span><br><span class="line">  arr.join.chars.map.with_index <span class="keyword">do</span> <span class="params">|c, i|</span></span><br><span class="line">    <span class="keyword">if</span> c =~ <span class="regexp">/[a-z]/i</span></span><br><span class="line">      movingShift(c, <span class="number">26</span>-shift-i)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      c</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>.join</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></p>
<h3 id="6ku"><a href="#6ku" class="headerlink" title="6ku"></a>6ku</h3><p><a href="https://www.codewars.com/kata/dubstep/ruby" target="_blank" rel="noopener">Dubstep</a></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">song_decoder</span><span class="params">(song)</span></span></span><br><span class="line">  song.gsub(<span class="regexp">/(WUB)+/</span>, <span class="string">' '</span>).strip</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>GET 新函数<code>strip</code>,去除字符串前后空白字符.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strip → new_str click to toggle source</span><br><span class="line">Returns a copy of str with leading and trailing whitespace removed.</span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.codewars.com/kata/5626b561280a42ecc50000d1" target="_blank" rel="noopener">Take a Number And Sum Its Digits Raised To The Consecutive Powers And ….¡Eureka!!</a></p>
<p>GET：</p>
<ul>
<li>知道了<code>enumerate</code> &lt;- 不记得枚举，最后写了个循环</li>
</ul>
<p>My Solution - Reduce ver<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_dig_pow</span><span class="params">(a, b)</span>:</span> </span><br><span class="line">    <span class="keyword">return</span> filter(</span><br><span class="line">        <span class="keyword">lambda</span> g:</span><br><span class="line">            reduce(</span><br><span class="line">                <span class="keyword">lambda</span> y,x: y+int(str(g)[x])**(x+<span class="number">1</span>), range(<span class="number">0</span>, len(str(g))), <span class="number">0</span></span><br><span class="line">            ) == g</span><br><span class="line">        , range(a, b+<span class="number">1</span>))</span><br></pre></td></tr></table></figure></p>
<p>enumerate ver<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_dig_pow</span><span class="params">(a, b)</span>:</span> </span><br><span class="line">    <span class="keyword">return</span> filter(</span><br><span class="line">        <span class="keyword">lambda</span> g:</span><br><span class="line">            sum(</span><br><span class="line">                int(d) ** (i+<span class="number">1</span>) </span><br><span class="line">                <span class="keyword">for</span> i, d <span class="keyword">in</span> enumerate(str(a))</span><br><span class="line">            ) == a</span><br><span class="line">        , range(a, b+<span class="number">1</span>))</span><br></pre></td></tr></table></figure></p>
<h3 id="7ku"><a href="#7ku" class="headerlink" title="7ku"></a>7ku</h3><p>a.map{|arr| arr.map{|a| avg = a.reduce(:+)./3; [avg, avg, avg] }}</p>
<p><a href="https://www.codewars.com/kata/578553c3a1b8d5c40300037c" target="_blank" rel="noopener">Ones and Zeros</a></p>
<p>GET:</p>
<ul>
<li><code>join</code>的玩法</li>
</ul>
<p>Reduce ver<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_array_to_number</span><span class="params">(arr)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> int(reduce(<span class="keyword">lambda</span> y,x:y+str(x), arr, <span class="string">''</span>), <span class="number">2</span>)</span><br></pre></td></tr></table></figure></p>
<p>join ver<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_array_to_number</span><span class="params">(arr)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> int(<span class="string">""</span>.join(map(str, arr)), <span class="number">2</span>)</span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.codewars.com/kata/55f8a9c06c018a0d6e000132" target="_blank" rel="noopener">Regex validate PIN code</a></p>
<p>GET:</p>
<ul>
<li>正则表达式姿势<br><code>^[0-9]{4}$</code>+<code>^[0-9]{6}$</code>==<code>^(\d{4}|\d{6})$</code></li>
</ul>
<p><a href="https://www.codewars.com/kata/56747fd5cb988479af000028" target="_blank" rel="noopener">Get the Middle Character</a></p>
<p>GET:</p>
<ul>
<li>复习了Python 的整除</li>
</ul>
<p><a href="https://www.codewars.com/kata/558fc85d8fd1938afb000014" target="_blank" rel="noopener">Sum of two lowest positive integers</a></p>
<p>GET：</p>
<ul>
<li>sort&amp;sorted 的用法</li>
</ul>
<blockquote>
<p>a = [5,2,1,9,6]        </p>
<p>>&gt;&gt; sorted(a)                  #将a从小到大排序,不影响a本身结构<br>[1, 2, 5, 6, 9] </p>
<p>>&gt;&gt; sorted(a,reverse = True)   #将a从大到小排序,不影响a本身结构<br>[9, 6, 5, 2, 1] </p>
<p>>&gt;&gt; a.sort()                   #将a从小到大排序,影响a本身结构<br>>&gt;&gt; a<br>[1, 2, 5, 6, 9] </p>
<p>>&gt;&gt; a.sort(reverse = True)     #将a从大到小排序,影响a本身结构<br>>&gt;&gt; a<br>[9, 6, 5, 2, 1] </p>
</blockquote>
<h3 id="8ku"><a href="#8ku" class="headerlink" title="8ku"></a>8ku</h3><p><a href="https://www.codewars.com/kata/57356c55867b9b7a60000bd7" target="_blank" rel="noopener">Basic Mathematical Operations</a></p>
<p>Get:</p>
<ul>
<li><code>switch-case</code>替代方案</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">basic_op</span><span class="params">(operator, value1, value2)</span>:</span></span><br><span class="line">    ops = &#123;<span class="string">'+'</span>: <span class="keyword">lambda</span> a, b: a + b, </span><br><span class="line">           <span class="string">'-'</span>: <span class="keyword">lambda</span> a, b: a - b,</span><br><span class="line">           <span class="string">'*'</span>: <span class="keyword">lambda</span> a, b: a * b,</span><br><span class="line">           <span class="string">'/'</span>: <span class="keyword">lambda</span> a, b: a / b&#125;</span><br><span class="line">    <span class="keyword">return</span> ops[operator](value1, value2)</span><br></pre></td></tr></table></figure>
<p><a href="https://www.codewars.com/kata/55d24f55d7dd296eb9000030" target="_blank" rel="noopener">Grasshopper - Summation</a></p>
<p>GET:</p>
<ul>
<li><code>reduce&amp;lambda表达式</code> 初体验</li>
</ul>
<p><a href="https://www.codewars.com/kata/56bc28ad5bdaeb48760009b0" target="_blank" rel="noopener">Remove First and Last Character</a></p>
<p>GET:</p>
<ul>
<li>切片技巧</li>
</ul>

      
    </div>

    
      
      



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Python/">Python</a>
            
              <a href="/tags/Ruby/">Ruby</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/Metapost-入门指南/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Metapost 入门指南</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/shiyanbar-CTF-write-up/">
        <span class="next-text nav-default">shiyanbar CTF write up</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
    
      
    
      
    
      
        
          <a href="https://github.com/inkydragon" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2018

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">woclass</span>
  </span>
</div>
      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  

  
  




    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.4.x"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.4.x"></script>

    
  <script type="text/html" id="search-result">
    <article class="post">
      <header class="post-header">
        <h1 class="post-title">
          <a href="$url$" class="post-link">
            $title$
          </a>
        </h1>
      </header>
      <div class="post-content">
        $content$
        <div class="read-more">
          <a href="$url$" class="read-more-link">
            阅读更多
          </a>
        </div>
      </div>
    </article>
  </script>
  <script type="text/html" id="no-search-result">
    <div class="no-result">
      <h2>No result found!</h2>
    </div>
  </script>
  <script type="text/javascript" src="/js/src/search.js?v=2.4.x"></script>

  </body>
</html>
