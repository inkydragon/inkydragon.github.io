<!DOCTYPE html>
<html lang="zh-cn">
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="Some Matlab note">




  <meta name="keywords" content="memo,">




  <link rel="alternate" href="/atom.xml" title="0u0' lab | Hexo">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.4.x">



<link rel="canonical" href="https://blog.wo-class.cn/Matlab-memo/">


<meta name="description" content="Some Matlab note">
<meta name="keywords" content="memo">
<meta property="og:type" content="article">
<meta property="og:title" content="Matlab memo">
<meta property="og:url" content="https://blog.wo-class.cn/Matlab-memo/index.html">
<meta property="og:site_name" content="0u0&#39; lab | Hexo">
<meta property="og:description" content="Some Matlab note">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="https://blog.wo-class.cn/Matlab-memo/Matlab-memo-VectorFunc.png">
<meta property="og:image" content="https://blog.wo-class.cn/Matlab-memo/Matlab-memo-contour-specific_height.png">
<meta property="og:image" content="https://blog.wo-class.cn/Matlab-memo/Matlab-memo-contourZlevel.png">
<meta property="og:image" content="https://blog.wo-class.cn/Matlab-memo/Matlab-memo-GIF_testAnimated.gif">
<meta property="og:updated_time" content="2018-12-21T11:52:17.468Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Matlab memo">
<meta name="twitter:description" content="Some Matlab note">
<meta name="twitter:image" content="https://blog.wo-class.cn/Matlab-memo/Matlab-memo-VectorFunc.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.4.x">



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css">





<script>
  var CONFIG = {
    search: true,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>




  



    <title> Matlab memo · 0u0' lab | Hexo </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">0u0' lab | Hexo</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">0u0' lab | Hexo</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              标签
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              分类
            
          </a>
        </li>
      
      
        <li class="menu-search">
          <form>
            <i class="iconfont icon-search" id="open-search"></i>
            <input type="text" class="search-input" id="search-input">
            <i class="iconfont icon-close" id="close-search"></i>
          </form>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          Matlab memo
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2017年5月6日
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        <a id="more"></a>
<p><strong>向量值函数~多元函数转换</strong></p>
<p>2元函数画图要用meshgrid打网格，得到两个矩阵X，Y，然后mesh画图。</p>
<p>是直接的2元函数就很好办，但是有时候会碰到多元向量值函数，一般只有1个参数,是向量，每一列是一个参数。像这种函数就不能打网格画图。</p>
<p>Ex：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VectorFunc   = @(x, ~) x(:,1).^2 + x(:,2).^2 ;      %向量输入，D=2</span><br><span class="line">VararginFunc = @(x, y) x.^2 + y.^2;                 %矩阵输入</span><br></pre></td></tr></table></figure></p>
<p><strong>keyword</strong>: 向量值函数 多元函数 reshape</p>
<p>Ans：</p>
<p>解决方案用reshape<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br><span class="line">VectorFunc   = @(x, ~) x(:,<span class="number">1</span>).^<span class="number">2</span> + x(:,<span class="number">2</span>).^<span class="number">2</span> ;      <span class="comment">%向量输入，D=2</span></span><br><span class="line">VararginFunc = @(x, y) x.^<span class="number">2</span> + y.^<span class="number">2</span>;                 <span class="comment">%矩阵输入</span></span><br><span class="line">Fitness = VectorFunc;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 向量函数画图</span></span><br><span class="line">[mesh_Plot_X, mesh_Plot_Y] = <span class="built_in">meshgrid</span>(<span class="number">1</span>:<span class="number">10</span>, <span class="number">1</span>:<span class="number">10</span>); <span class="comment">% 打网格</span></span><br><span class="line">[tmp_len_y, tmp_len_x] = <span class="built_in">size</span>(mesh_Plot_X);        <span class="comment">% 获取矩阵维度         </span></span><br><span class="line">tmp_XX = [<span class="built_in">reshape</span>(mesh_Plot_X, [], <span class="number">1</span>), ...         <span class="comment">% 矩阵转向量</span></span><br><span class="line">          <span class="built_in">reshape</span>(mesh_Plot_Y, [], <span class="number">1</span>)];</span><br><span class="line">fit=Fitness(tmp_XX);        <span class="comment">% 计算</span></span><br><span class="line">Vector_Z = <span class="built_in">reshape</span>(Fitness(tmp_XX),tmp_len_y,tmp_len_x); <span class="comment">% 结果转为矩阵</span></span><br><span class="line"></span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>),mesh(mesh_Plot_X, mesh_Plot_Y, Vector_Z);title(<span class="string">'VectorFunc'</span>);</span><br><span class="line"></span><br><span class="line">Varargin_Z = VararginFunc(mesh_Plot_X, mesh_Plot_Y);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>),mesh(mesh_Plot_X, mesh_Plot_Y, Varargin_Z);title(<span class="string">'VararginFunc'</span>);</span><br></pre></td></tr></table></figure></p>
<img src="/Matlab-memo/Matlab-memo-VectorFunc.png">
<hr>
<ul>
<li><a href="https://cn.mathworks.com/matlabcentral/answers/165821-how-do-i-plot-the-contour-of-a-surface-at-a-specific-height" target="_blank" rel="noopener">How do I plot the contour of a surface at a specific height?</a></li>
</ul>
<p><strong>keyword</strong>: contour3/等高线</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br><span class="line">z=peaks;</span><br><span class="line">surf(peaks)</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">contour3(z, ...</span><br><span class="line">         <span class="string">'LevelList'</span>,<span class="number">2</span>, ...</span><br><span class="line">         <span class="string">'LineWidth'</span>,<span class="number">3</span>, ...</span><br><span class="line">         <span class="string">'Color'</span>,<span class="string">'red'</span>)</span><br></pre></td></tr></table></figure>
<img src="/Matlab-memo/Matlab-memo-contour-specific_height.png">
<hr>
<ul>
<li><a href="http://stackoverflow.com/questions/8054966/matlab-how-to-change-contourf-plots-location-on-z-axis" target="_blank" rel="noopener">Matlab how to change contourf plot’s location on z axis</a></li>
<li><a href="http://stackoverflow.com/questions/24621439/plot-multiple-2d-contour-plots-in-one-3d-figure-matlab/24624311#24624311" target="_blank" rel="noopener">plot multiple 2d contour plots in one 3d figure [Matlab]</a></li>
<li><a href="https://www.zhihu.com/question/41687148" target="_blank" rel="noopener">matlab contourf函数 怎么加一维高度数据？</a></li>
</ul>
<p>ASK: 怎样移动等高线的位置？</p>
<p><strong>keyword</strong>: surfc  contour/等高线</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Z = peaks;</span><br><span class="line">surf(Z), <span class="built_in">hold</span> on</span><br><span class="line">[~,h] = contourf(Z);</span><br><span class="line">h.ContourZLevel = <span class="number">-10</span>;</span><br></pre></td></tr></table></figure>
<img src="/Matlab-memo/Matlab-memo-contourZlevel.png" title="效果">
<p>[2017-05-07]</p>
<hr>
<ul>
<li><a href="http://stackoverflow.com/questions/42132955/matlab-how-to-save-animated-plot-to-a-gif" target="_blank" rel="noopener">Matlab: how to save animated plot to a gif</a></li>
<li><a href="https://cn.mathworks.com/matlabcentral/answers/94495-how-can-i-create-animated-gif-images-in-matlab" target="_blank" rel="noopener">How can I create animated GIF images in MATLAB ?</a></li>
</ul>
<p><strong>keyword</strong>: Matlab GIF 动态图</p>
<p>Ans：<br><figure class="highlight matlab"><figcaption><span>GIF_example.m</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">clear;</span><br><span class="line">x = <span class="number">0</span>:<span class="number">0.01</span>:<span class="number">1</span>;</span><br><span class="line">n = <span class="number">1</span>:<span class="number">0.1</span>:<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">nImages = <span class="built_in">length</span>(n);</span><br><span class="line">filename = <span class="string">'GIF_testAnimated.gif'</span>; <span class="comment">% 指定GIf文件名</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> idx = <span class="number">1</span>:nImages</span><br><span class="line">    y = x.^n(idx);</span><br><span class="line">    <span class="built_in">plot</span>(x,y,<span class="string">'LineWidth'</span>,<span class="number">3</span>);</span><br><span class="line">    Formated_title = sprintf(<span class="string">'y = x^n,  n = %-2.1f'</span>, n(idx) ); <span class="comment">% 标题格式化</span></span><br><span class="line">    title(Formated_title);</span><br><span class="line">    drawnow;</span><br><span class="line">    </span><br><span class="line">    frame = getframe(<span class="number">1</span>);</span><br><span class="line">    img = frame2im(frame);</span><br><span class="line">    </span><br><span class="line">    [A,map] = rgb2ind(img,<span class="number">256</span>);</span><br><span class="line">    <span class="keyword">if</span> idx == <span class="number">1</span></span><br><span class="line">        imwrite(A,map,filename,<span class="string">'gif'</span>,<span class="string">'LoopCount'</span>,Inf,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>); <span class="comment">% GIF 时间间隔可调</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        imwrite(A,map,filename,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">0.1</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">imwrite(A,map,filename,<span class="string">'gif'</span>,<span class="string">'WriteMode'</span>,<span class="string">'append'</span>,<span class="string">'DelayTime'</span>,<span class="number">2</span>); <span class="comment">% 最后一帧 延时</span></span><br></pre></td></tr></table></figure></p>
<img src="/Matlab-memo/Matlab-memo-GIF_testAnimated.gif" title="gif">
<hr>
<ul>
<li><a href="http://www.ilovematlab.cn/thread-29957-1-1.html" target="_blank" rel="noopener">Matlab中怎样快速将 行向量 复制m次 成为一个矩阵</a></li>
</ul>
<p><strong>keyword</strong>: matlab 向量 变 矩阵</p>
<p>Eg:<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A=[ <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> ];</span><br><span class="line"></span><br><span class="line">B=[</span><br><span class="line">  <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> ;</span><br><span class="line">  <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> ;</span><br><span class="line">  <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> ;</span><br><span class="line">  <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> ];</span><br></pre></td></tr></table></figure></p>
<p>Ans:</p>
<ol>
<li><code>repmat(A, TIMES, 1)</code></li>
<li><code>B=A(ones(TIMES, 1), :)</code></li>
</ol>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; B = <span class="built_in">repmat</span>(A, <span class="number">4</span>, <span class="number">1</span>)</span><br><span class="line">B =</span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; B=A(<span class="built_in">ones</span>(<span class="number">4</span>,<span class="number">1</span>),:)</span><br><span class="line">B =</span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>[2017-05-06]</p>

      
    </div>

    
      
      



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/memo/">memo</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/Memo-List-Week13/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Memo List @Week13</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/MIT-HAKMAN/">
        <span class="next-text nav-default">MIT HAKMAN</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
    
      
    
      
    
      
        
          <a href="https://github.com/inkydragon" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2019

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">woclass</span>
  </span>
</div>
      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  

  
  




    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.4.x"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.4.x"></script>

    
  <script type="text/html" id="search-result">
    <article class="post">
      <header class="post-header">
        <h1 class="post-title">
          <a href="$url$" class="post-link">
            $title$
          </a>
        </h1>
      </header>
      <div class="post-content">
        $content$
        <div class="read-more">
          <a href="$url$" class="read-more-link">
            阅读更多
          </a>
        </div>
      </div>
    </article>
  </script>
  <script type="text/html" id="no-search-result">
    <div class="no-result">
      <h2>No result found!</h2>
    </div>
  </script>
  <script type="text/javascript" src="/js/src/search.js?v=2.4.x"></script>

  </body>
</html>
